# üéØ –£–ª—É—á—à–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ WER, CER –∏ Accuracy

## üìä –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ

### 1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞**
```python
def normalize_text(self, text: str) -> str:
    norm = jiwer.Compose([
        jiwer.Strip(),                    # –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
        jiwer.ToLowerCase(),              # –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
        jiwer.RemoveMultipleSpaces(),     # –£–¥–∞–ª–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–≤
        jiwer.RemovePunctuation(),        # –£–¥–∞–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏
        jiwer.RemoveMultipleSpaces(),     # –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤
        jiwer.RemoveEmptyStrings(),       # –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
    ])
    return norm(text)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞

### 2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç WER (Word Error Rate)**
```
WER = (S + D + I) / N * 100%
–≥–¥–µ:
- S = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–º–µ–Ω (substitutions)
- D = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–∏–π (deletions) 
- I = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç–∞–≤–æ–∫ (insertions)
- N = –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –≤ —ç—Ç–∞–ª–æ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç edge cases (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ –ú–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å 100% –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤—Å—Ç–∞–≤–æ–∫

### 3. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç CER (Character Error Rate)**
```
CER = (S + D + I) / N * 100%
–≥–¥–µ:
- S = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–º–µ–Ω —Å–∏–º–≤–æ–ª–æ–≤
- D = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–∏–π —Å–∏–º–≤–æ–ª–æ–≤
- I = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç–∞–≤–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤  
- N = –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ —ç—Ç–∞–ª–æ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã
- ‚úÖ –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ –º–µ–ª–∫–∏–º –æ—à–∏–±–∫–∞–º

### 4. **–î–≤–∞ —Ç–∏–ø–∞ Accuracy**
```python
# –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏–º–≤–æ–ª–æ–≤
char_accuracy = (1 - CER) * 100%

# –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–ª–æ–≤  
word_accuracy = (1 - WER) * 100%
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º
- ‚úÖ –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏:
| –¢–µ—Å—Ç | WER | CER | Acc (—Å–∏–º–≤) | Acc (—Å–ª–æ–≤–∞) |
|------|-----|-----|------------|-------------|
| –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ | 0.00 | 0.00 | 100.00 | 100.00 |
| –û–¥–Ω–∞ –∑–∞–º–µ–Ω–∞ | 50.00 | 9.09 | 90.91 | 50.00 |
| –û–¥–Ω–∞ –≤—Å—Ç–∞–≤–∫–∞ | 50.00 | 36.36 | 63.64 | 50.00 |
| –û–¥–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ | 50.00 | 54.55 | 45.45 | 50.00 |
| –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ | 50.00 | 15.79 | 84.21 | 50.00 |

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞:
| –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç | –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π |
|----------------|-----------------|
| `"  Hello,   World!  "` | `"hello world"` |
| `"HELLO WORLD"` | `"hello world"` |
| `"Hello, World!"` | `"hello world"` |
| `"  Multiple    Spaces  "` | `"multiple spaces"` |

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ Edge Cases**
```python
# –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
if ref == "" and hyp == "":
    return 0.0, 0.0, 100.0, 100.0

# –ü—É—Å—Ç–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞
if ref != "" and hyp == "":
    return 100.0, 100.0, 0.0, 0.0

# –ü—É—Å—Ç–∞—è —Å—Å—ã–ª–∫–∞
if ref == "" and hyp != "":
    return 100.0, 100.0, 0.0, 0.0
```

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```python
try:
    wer = jiwer.wer(ref, hyp) * 100.0
    cer = jiwer.cer(ref, hyp) * 100.0
    # ... —Ä–∞—Å—á–µ—Ç—ã
except Exception as e:
    print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –º–µ—Ç—Ä–∏–∫: {e}")
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫
    return 100.0, 100.0, 0.0, 0.0
```

### 3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- ‚úÖ –ï–¥–∏–Ω—ã–π –≤—ã–∑–æ–≤ `calculate_metrics()` –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ª—É—á—à–µ–Ω–∏–π

### 1. **–¢–æ—á–Ω–æ—Å—Ç—å**
- –ë–æ–ª–µ–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫
- –£—á–µ—Ç –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (–∑–∞–º–µ–Ω—ã, –≤—Å—Ç–∞–≤–∫–∏, —É–¥–∞–ª–µ–Ω–∏—è)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### 2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Ç–µ–∫—Å—Ç–∞

### 3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –î–≤–∞ —Ç–∏–ø–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ (—Å–∏–º–≤–æ–ª—ã –∏ —Å–ª–æ–≤–∞)
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏

### 4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON –∏ CSV —Ñ–æ—Ä–º–∞—Ç–∞—Ö

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏:
1. **WER** - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–ª–æ–≤
2. **CER** - –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏–º–≤–æ–ª–æ–≤
3. **Word Accuracy** - –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤
4. **Char Accuracy** - –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- **WER < 20%** - –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **WER 20-40%** - —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ  
- **WER 40-60%** - —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **WER > 60%** - –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **WER** –¥–ª—è –æ–±—â–µ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **CER** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ **Accuracy** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–æ–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–ª—É—á—à–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:
- üéØ **–ë–æ–ª–µ–µ —Ç–æ—á–Ω—É—é –æ—Ü–µ–Ω–∫—É** –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- üîç **–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑** –æ—à–∏–±–æ–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö
- üõ°Ô∏è **–ù–∞–¥–µ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- üìä **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ TrOCR —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞!
